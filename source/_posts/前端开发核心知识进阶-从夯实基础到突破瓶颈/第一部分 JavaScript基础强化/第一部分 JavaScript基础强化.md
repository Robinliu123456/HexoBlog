---
title: 一网打尽this, 对执行上下文说Yes
cover: https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6790cb5f8b54a348c72a5ad0d269734~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?
tags:
  - Book 侯策 从夯实基础到突破瓶颈
categories:
  - 从夯实基础到突破瓶颈
---
# 01 一网打尽this, 对执行上下文说Yes
JavaScript中的如s因指向灵活、使用场景多样， 一直是面试中的热点， 无论对于初级开发者还是中高级开发者，几乎都是必考内容。这个概念虽然基础，但是非常重要，是否能深刻理解this,是前端JavaScript进阶的重要一环。如s指向多变， 很多隐蔽的bug都源于它。与此同时，this强大灵活， 如果能熟练驾驭， 就会写出更加简捷、 优雅的代码。
社区中对千伽s的讲解虽然不少，但缺乏统一梳理。本篇中， 我们将直面this的方方面面， 并通过例题真正领会与掌握this的用法。
## this到底指向谁
曾经在面试阿里巴巴某重点部门时， 面试官从多个角度考查过我对this的理解：全局环境下的如s、箭头函数中的this、构造函数中的this、加s的显隐性和优先级等。尽管前面的问题我都能一一 作答， 可是最后一个问题一请用一句话总结伽s的指向（注意只用一句话）， 却让我犯难了。
有一种广为流传的说法是 “谁调用它，this就 指向谁＂ 。
也就是说，thjs的指向是在调用时确定的。这么说没有太大的问题，可是并不全面。面试官要求我用更加规范的语言进行总结， 那么他到底在等什么样的回答呢？
我们还要回到JavaScript中一个最基本的概念一刁丸行上下文上面， 这个概念会在02篇中进行扩展。
关于this指向的具体细节和规则后面再慢慢分析， 这里可以先 “死记硬背” 以下几条规律：
- 在函数体中， 非显式或隐式地简单调用函数时， 在严格模式下， 函数内的this 会被绑定到undefined上， 在非严格模式下则会被绑定到全局对象window/global上。
- 一般使用n ew方法调用构造函数时，构造函数内的this会被绑定到新创建的对象上。
- 一般通过call/apply/bind方法显式调用函数时， 函数体内的如s会被绑定到指定参数的对象 上。
一般通过上下文对象调用函数时， 函数体内的如s 会被绑定到该对象上。
- 在箭头函数中，this的指向是由外层（函数或全局）作用域来决定的。 当然， 真实环境多种多样， 下面就根据具体环境来逐一梳理。